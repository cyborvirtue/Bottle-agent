我希望构建一个**双核心功能的学术 Agent**项目，目标是：

1. 📚 **论文智能搜索**：利用 LLM（如 GPT-4）作为**语义搜索引擎**，调用 arXiv API 等，返回结构化论文结果。
2. 🧠 **RAG 知识库构建与问答**：支持基于**本地论文文件夹**自动构建多个 RAG 知识库，并支持跨库问答。



# 🔧 学术 Agent 功能需求文档（双功能版本）

## 一、项目名称（暂定）

**Bottle-Agent：轻量学术搜索与RAG agent**

---

## 二、项目概述

本项目旨在打造一个帮助科研人员、学生进行高效学术研究的智能 Agent 系统，提供两个核心功能：

* 📄 **智能论文搜索**：利用大模型理解查询意图，结合开放学术 API（如 arXiv）返回高相关度论文结果；
* 🧠 **多领域 RAG 知识库**：用户可上传或指定本地论文文件夹，系统自动构建知识库，用于智能问答和摘要理解。

---

## 三、核心功能设计

### 📘 功能一：论文智能搜索（LLM + API）

#### 🎯 功能目标：

让用户像“问人一样”输入问题/话题，系统自动调用 LLM 理解意图，转化为检索关键词，通过 arXiv 等平台返回高质量论文列表。

#### ✅ 功能需求：

* 支持自然语言输入，如“最近有哪些关于 Diffusion 模型在医学图像中的应用？”
* 使用 OpenAI/GPT 模型提取关键词、构建搜索 query
* 调用 arXiv API（或 SemanticScholar API）进行检索
* 展示结果包括：

  * 论文标题
  * 摘要
  * 发表时间
  * arXiv PDF 下载链接
* 可选排序方式（最新优先 / 相关度优先）
* 支持分页或限制最大返回条数

#### 🔧 示例交互：

```
用户输入：有哪些关于“图神经网络在药物发现”的新论文？
返回：
1. Title: Graph Neural Networks for Drug Discovery
   Abstract: ...
   PDF: https://arxiv.org/pdf/xxxx
```

---

### 📂 功能二：多库构建的本地 RAG 问答系统

#### 🎯 功能目标：

构建支持**多个研究方向知识库**的本地语义问答系统，用户可将不同主题论文放在不同文件夹，系统自动构建 RAG 检索结构。

#### ✅ 功能需求：

##### 📁 1. 知识库管理

* 支持用户创建多个知识库（例如：`LLM`, `CV`, `Graph`, `BioMed`）
* 每个知识库对应本地一个文件夹（包含 PDF/Markdown/TXT 等）
* 提供知识库命名、编辑、删除功能
* 支持文件更新自动重新索引

##### 📄 2. 知识库构建流程

* 对上传或指定文件夹内的文献进行文本抽取（PDF解析）
* 使用 embedding 模型（如 `bge-small-zh`, `text-embedding-ada-002`）对段落生成向量
* 使用本地向量数据库（FAISS / Chroma）保存向量
* 建立知识库结构（目录、索引、元数据）

##### 🤖 3. 知识问答功能

* 选择知识库，输入自然语言问题
* 系统调用向量检索查找相关段落（Top-K）
* 构建 Prompt 提供给 LLM（如 GPT-4）生成回答
* 返回引用内容段落与回答

##### ⏳ 示例交互：

```
用户选择知识库：LLM
用户提问：有哪些论文比较系统地总结了多语言TTS方法？
返回：
Answer: 多篇论文综述了多语言TTS，包括...（附参考文献片段）
Reference: arxiv:xxxx.pdf, Section 3.1
```

---

## 四、界面简化设计建议（选配）

| 模块    | 交互方式              | 技术建议                  |
| ----- | ----------------- | --------------------- |
| 论文搜索  | 输入框 + 列表结果展示      | Streamlit / Gradio    |
| RAG管理 | 文件夹路径管理界面 + 知识库选项 | CLI or Web UI         |
| 问答界面  | 输入问题 + 结果/引用展示    | Streamlit + LangChain |

---

## 五、系统架构概览（逻辑）

```plaintext
功能一：论文搜索
用户输入 → LLM解析意图 → 构建query → 搜索API → 返回论文列表

功能二：RAG问答
指定文件夹 → 构建embedding索引 → 用户提问 → 相似段落 → 构建prompt → LLM回答
```

---

## 六、可选增强功能（非必需）

| 模块   | 可扩展功能                             |
| ---- | --------------------------------- |
| 论文搜索 | 支持 Zotero 登录/拉取用户文献库              |
| RAG库 | 支持 LangChain agent 模块、多轮对话、聊天记录保存 |
| 模型选择 | 支持切换不同嵌入模型或 LLM 模型                |
| UI   | 简化可拖拽式文件夹导入、自动构建知识库               |

---

## 七、开发阶段建议

| 阶段   | 开发内容                            |
| ---- | ------------------------------- |
| 第1阶段 | 实现论文搜索功能（arXiv API + LLM query） |
| 第2阶段 | 构建单个知识库的本地RAG问答功能               |
| 第3阶段 | 实现多知识库管理与切换                     |
| 第4阶段 | 构建基本UI，完善交互体验                   |

---

需要我接下来帮你整理成 Markdown / README 模板，或生成 JSON Schema、UI Mock 图也可以告诉我。是否也需要我帮你设计这个项目的代码目录结构？
